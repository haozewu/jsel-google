/*
 * Compressed by JSA(www.xidea.org)
 */
function Request(C,_,D,B){this.xhr=new XMLHttpRequest();this.onComplete=D;this.onStep=B;this.options=_=new __$9(C,_);this.headers={Accept:"'text/javascript, text/html, application/xml, text/xml, */*'","Content-Type":_.contentType};var A=this;this.onreadystatechange=function(){var B=A.xhr.readyState;A.onStep&&A.onStep(B);if(B==4){var _=A.isSuccess();A.onComplete&&A.onComplete(_);if(_){A.onSuccess&&A.onSuccess();}else{A.onFailure&&A.onFailure();}A.free=true;A.xhr.onreadystatechange=Function.prototype;}};this.free=true;}Request.prototype={send:function(C,A){this.free=false;var D=this.headers,_=this.options;A=A||_.sync;if(/post/i.test(_.method)){if(this.xhr.overrideMimeType){D.Connection="close";}}this.xhr.open(_.method,_.url,!A);this.xhr.onreadystatechange=this.onreadystatechange;for(var B in D){this.xhr.setRequestHeader(B,D[B]);}this.xhr.send(C);return this;},isSuccess:function(){var _=this.getStatus();return _?_>=200&&_<300:null;},getStatus:function(){var _=this.xhr;return _.readyState==4&&((_.responseText||_.responseXML)&&_.status);},putHeader:function(_,A){this.headers[_]=A;return this;},getHeader:function(_){if(this.xhr.readyState>=3){return this.xhr.getResponseHeader(_);}else{}},getJSON:function(){if(this.xhr.readyState==4){return window.eval("("+this.xhr.responseText+")");}else{}},getResult:function(){if(/\/xml/.test(this.getHeader("Content-Type"))){if(this.xhr.readyState==4){return this.xhr.responseXML;}}else{if(this.xhr.readyState>=3){return this.xhr.responseText;}}__$3.error("response not complete");},getXML:function(){if(this.xhr.readyState==4){return this.xhr.responseXML;}else{}},getText:function(){if(this.xhr.readyState>=3){return this.xhr.responseText;}else{}}};function __$9(_,A){this.url=_;if(A.constructor==String){this.method=A;}else{for(var B in A){this[B]=A[B];}}}__$9.prototype={method:"post",contentType:"application/x-www-form-urlencoded",encoding:"UTF-8"};